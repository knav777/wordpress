function raterJs(e){let t=!0;if(void 0===e.element||null===e.element)throw new Error("element required");if(void 0!==e.showToolTip&&(t=!!e.showToolTip),void 0!==e.step&&(e.step<=0||e.step>1))throw new Error("step must be a number between 0 and 1");let i,a,r=5,n=e.starSize||16,s=e.step||1,l=e.onHover,o=e.onLeave,d=JSON.parse(yasrCommonData.isRtl),u=e.element;u.classList.add("yasr-star-rating");let v=document.createElement("div");v.classList.add("yasr-star-value"),v.style.backgroundSize=n+"px",u.appendChild(v),u.style.width=n*r+"px",u.style.height=n+"px",u.style.backgroundSize=n+"px";let c,f,m,y=e.rateCallback,g=!!e.readOnly,p=!1,b=e.isBusyText;if(c=void 0!==e.disableText?e.disableText:"{rating}/{maxRating}",g||(u.style.cursor="pointer"),m=void 0!==e.ratingText?e.ratingText:"{rating}/{maxRating}",e.rating)L(e.rating);else{var h=u.dataset.rating;h&&L(+h)}function w(e){if(!0===g||!0===p)return;let a;if(!0===d){let t=this.getBoundingClientRect(),i=e.pageX-t.left,r=u.offsetWidth;a=(r-i)/(r/100)}else{a=e.offsetX/u.offsetWidth*100}if(a<101){if(1===s)f=Math.ceil(a/100*r);else{let e=a/100*r;for(let t=0;;t+=s)if(t>=e){f=t;break}}if(f>5&&(f=5),u.querySelector(".yasr-star-value").style.width=f/r*100+"%",t){let e=m.replace("{rating}",f);e=e.replace("{maxRating}",r),u.setAttribute("data-title",e)}"function"==typeof l&&l(f,i)}}function x(e){void 0!==i?(u.querySelector(".yasr-star-value").style.width=i/r*100+"%",u.setAttribute("data-rating",i)):(u.querySelector(".yasr-star-value").style.width="0%",u.removeAttribute("data-rating")),"function"==typeof o&&o(f,i)}function A(e){!0!==g&&!0!==p&&(void 0===y&&!1===typeof y||(p=!0,a=f,void 0===b?u.removeAttribute("data-title"):u.setAttribute("data-title",b),y.call(this,a,function(){!1===g&&u.removeAttribute("data-title"),p=!1})))}function E(){if(g=!0,t&&c){let e=c.replace("{rating}",i);e=e.replace("{maxRating}",r),u.setAttribute("data-title",e)}else u.removeAttribute("data-title")}function L(e){if(-1===e&&(e=void 0),"number"!=typeof e&&void 0!==e)throw new Error("Value must be a number or undefined.");e<0&&(e=0),e>5&&(e=5),i=e,u.querySelector(".yasr-star-value").style.width=e/r*100+"%",u.setAttribute("data-rating",e)}void 0===i&&(u.querySelector(".yasr-star-value").style.width="0px"),g&&E(),u.addEventListener("mousemove",w),u.addEventListener("mouseleave",x);let S={setRating:L,getRating:function(){return i},disable:E,enable:function(){g=!1,u.removeAttribute("data-title")},dispose:function(){u.removeEventListener("mousemove",w),u.removeEventListener("mouseleave",x),u.removeEventListener("click",A)}};return u.addEventListener("click",A.bind(S)),S}